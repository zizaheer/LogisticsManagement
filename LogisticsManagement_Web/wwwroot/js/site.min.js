function CallServer(){PerformPostAction("Home/KeepMeAlive")}function displayClock(){var n=new Date;document.getElementById("lblCurrentTime").innerHTML=n.toLocaleString()}function GetClockInData(){var n=$("#txtEmployeeClockInId").val(),t=$("#txtClockInTime").val(),i=$("#txtClockOutTime").val();return{empId:n,clockInTime:t,clockOutTime:i,remarks:"",breakTime:""}}$(document).ready(function(){});$("#lnkEmployeeClockIn").on("click",function(){var i,n,t;displayClock();setInterval(displayClock,1e3);i="00";n=GetSingleById("EmployeeTimesheet/GetEmployeeClockInInfo",i);n!==""&&n!=null&&(t=JSON.parse(n),$("#txtEmployeeClockInId").val(t.EmployeeId),$("#txtClockInTime").val(t.SignInDatetime),$("#txtClockOutTime").val(t.SignOutDatetime));$("#employeeClockIn").modal({backdrop:"static",keyboard:!1});$("#employeeClockIn").draggable();$("#employeeClockIn").modal("show")});$("#btnClockIn").on("click",function(n){var t,i;if(n.preventDefault(),t=GetClockInData(),console.log(t),t.clockInTime!=null&&t.clockInTime.length>0){bootbox.alert("You have already clocked-in. To change existing timing please contact admin");return}i=PerformPostActionWithObject("EmployeeTimesheet/Add",[t]);i.length>0&&bootbox.alert("You have successfully clocked-in. ")});$("#btnClockOut").on("click",function(n){var t,i;if(n.preventDefault(),t=GetClockInData(),t.clockInTime.length<1){bootbox.alert("Please clock-in first. ");return}i=PerformPostActionWithObject("EmployeeTimesheet/Update",[t]);i.length>0&&bootbox.alert("You have successfully clocked-out. ")});$("#lnkChangePassword").on("click",function(n){n.preventDefault();$("#changePassword").modal({backdrop:"static",keyboard:!1});$("#changePassword").draggable();$("#changePassword").modal("show")});$("#btnSavePassword").on("click",function(n){var t,u,i,r,f,e;if(n.preventDefault(),t=$("#txtNewPassword").val(),u=$("#txtConfirmNewPassword").val(),t!==u){bootbox.alert("New password must match with Confirm new password. Please check and try again");return}if(i=$("#txtCurrentPassword").val(),r=GetSingleById("User/ValidateCurrentUserByPassword",i),r==null||r.length<1){bootbox.alert("Your current password is invalid");return}if(f={newPass:t,currentPass:i},e=PerformPostActionWithObject("User/UpdatePassword",[f]),e.length>0)bootbox.alert("Your password has been changed successfully");else{bootbox.alert("Failed! Something went wrong. Please try again later.");return}});